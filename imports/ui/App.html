<body>
  {{> mainContainer}}
</body>

<template name="mainContainer">
  <div class="container">
    <header>
      <h1>Hi{{getUsername}}, welcome to ChatApp!</h1>
      {{#if getUsername}}
      <div>
        <button class="logout">Logout ðŸšª</button>
      </div>     
      {{/if}} 
    </header>
    
    {{#if isUserLogged}}
      <ul>
        {{#each chatRooms}}
          {{> chatRoom}}
        {{/each}}
      </ul>
    {{else}}
      {{> login }}
    {{/if}}
  </div>
</template>

<template name="chatRoom">
  <li>   
    <h2>Chatting with {{talkingTo}}
      
      <!-- [{{#each userIdList}}
        {{username}},       
      {{/each}}] -->
    </h2>
    <ul data-chatRoomIndex="{{_id}}">
      {{#each messages}}
        {{> message}}
      {{/each}}
    </ul>
    {{> form}}
  </li>
</template>

<template name="message">
  <li>
    {{author}} {{message}}
    <button class="delete" {{disabledAttr}}>&times;</button>
  </li>
</template>

<template name="form">
  <form class="chat-form">
    <input type="text" name="text" placeholder="Type your message here" />
    <button type="submit">Send</button>
  </form>
</template>